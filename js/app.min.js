"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,o=window.innerWidth-document.body.offsetWidth+"px",r=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=o,r&&r.forEach((function(e){e.style.marginRight=o}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),r&&r.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}var t=function(e,t){var o=function(o){for(var n=o.target;n&&!e.includes(n);)n=n.parentNode;n||(t(),r())};function r(){document.documentElement.removeEventListener("click",o)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",o)},removeBodyChecker:r}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.remove("is--open")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.add("is--open")};Inputmask().mask(document.querySelectorAll("input"));var n=document.querySelectorAll(".input-field__input"),i=document.querySelectorAll(".input-field__clear"),s=document.querySelectorAll(".input-field__visibility");n&&n.forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field").querySelector(".input-field__clear");t&&(e.value.length>=1?t.classList.add("is--active"):t.classList.remove("is--active"))}))})),i&&i.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".input-field").querySelector(".input-field__input");o.value.length>=1&&(o.value="",e.classList.remove("is--active"))}))})),s&&s.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".input-field").querySelector(".input-field__input");e.classList.contains("is--active")?(e.classList.remove("is--active"),o.type="password"):(e.classList.add("is--active"),o.type="text")}))}));var c=document.querySelectorAll('.js-input-visibility input[type="checkbox"]');c&&c.forEach((function(e){e.addEventListener("change",(function(t){t.preventDefault();var n=e.closest(".auth-form__switches").querySelector(".hidden-block");1==e.checked?r(n):0==e.checked&&o(n)}))}));var l=document.querySelectorAll(".input-field__number");l&&l.forEach((function(e,t){e.addEventListener("input",(function(e){var o=e.target.value;o.length>1&&(e.target.value=o.slice(0,1)),1===o.length&&t<l.length-1&&l[t+1].focus()})),e.addEventListener("keydown",(function(o){"Backspace"===o.key&&!e.value&&t>0&&l[t-1].focus()})),e.addEventListener("paste",(function(e){e.preventDefault();var t=e.clipboardData.getData("text").split("").filter((function(e){return/\d/.test(e)}));t.slice(0,l.length).forEach((function(e,t){l[t].value=e})),t.length>0&&l[Math.min(t.length,l.length-1)].focus()}))}));var a=document.querySelectorAll(".select-box__placeholder"),d=document.querySelectorAll(".select-box__checkbox");a&&(a.forEach((function(e){var o=function(){document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")}))},r=t([e.parentNode].concat(_toConsumableArray(document.querySelectorAll(".select-box"))),o);e.addEventListener("click",(function(){var t=e.closest(".select-box");t.classList.contains("is--active")?o():(o(),t.classList.add("is--active"),r.setBodyChecker())}))})),d&&d.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".select-box");t.querySelector(".select-box__placeholder span").innerHTML=e.querySelector(".select-box__title").innerHTML,document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")})),t.querySelector(".select-box__placeholder").classList.contains("is--selected")||t.querySelector(".select-box__placeholder").classList.add("is--selected")}))})));var u,y=document.querySelectorAll(".c-code__resend-btn");y&&y.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),function(e,t){clearInterval(u);var o=t,r=e.closest(".c-code"),n=r.querySelector(".c-code__timer");r.classList.add("is--countdown"),n.textContent=o,u=setInterval((function(){var e=o;n.textContent=e,--o<0&&(clearInterval(u),r.classList.remove("is--countdown"))}),1e3)}(e,90)}))}));var v=document.querySelectorAll(".c-dropdown__trigger");v&&v.forEach((function(e){var o=function(){document.querySelectorAll(".c-dropdown").forEach((function(e){return e.classList.remove("is--active")}))},r=t([e.parentNode],o);e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".c-dropdown");e.classList.contains("c-dropdown__trigger--mobile")?window.innerWidth>=744&&(n.classList.contains("is--active")?o():(n.classList.add("is--active"),r.setBodyChecker())):n.classList.contains("is--active")?o():(n.classList.add("is--active"),r.setBodyChecker())}))}));var m=document.querySelectorAll(".c-user__trigger");m&&m.forEach((function(e){var o=function(){document.querySelectorAll(".c-user").forEach((function(e){return e.classList.remove("is--active")}))},r=t([e.parentNode],o);e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".c-user");n.classList.contains("is--active")?o():(n.classList.add("is--active"),r.setBodyChecker())}))}));var p=document.getElementById("menu"),f=document.getElementById("hamburger-toggle");document.getElementById("menu-close");p&&f&&f.addEventListener("click",(function(t){t.preventDefault(),p.classList.contains("is--active")?(f.classList.remove("is--active"),p.classList.remove("is--active"),e(0)):(f.classList.add("is--active"),p.classList.add("is--active"),e(1))}));var h=document.querySelectorAll(".lk-tabs__item");h&&h.forEach((function(e,t){e.addEventListener("click",(function(){var t=e.closest(".lk-tabs");t.querySelectorAll(".lk-tabs__item").forEach((function(e){return e.classList.remove("is--active")})),t.querySelectorAll(".lk-tabs__holder").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active");var o=t.querySelector(".is--active"),r=_toConsumableArray(t.querySelectorAll(".lk-tabs__item")).indexOf(o);t.querySelectorAll(".lk-tabs__holder")[r].classList.add("is--active")}))}));var g=document.querySelectorAll(".lk-trigger[data-id]"),b=document.querySelectorAll(".lk-tabs__holder[data-id] .lk-topping__back");g&&g.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.id;document.querySelector('.lk-tabs__holder[data-id="'+o+'"]').classList.add("is--open")}))})),b&&b.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.closest(".lk-tabs__holder[data-id]").classList.remove("is--open")}))}));var L=document.querySelector(".input-dadata-region"),_=document.querySelector(".input-dadata-region ~ .input-field__dropdown");document.querySelector(".input-dadata-city"),document.querySelector(".input-dadata-city ~ .input-field__dropdown");L&&L.addEventListener("input",(function(e){var t=L.closest(".input-field"),o=L.value,r={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token 8597dd60d3a83fb46930107993271556971eadf1"},body:JSON.stringify({query:o,count:5,locations:[{country:"Беларусь"}],from_bound:{value:"city"},to_bound:{value:"settlement"},restrict_value:!0})};t.classList.contains("is--selected")&&t.classList.remove("is--selected"),o.length>=2?fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",r).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);console.log(t.suggestions)})).catch((function(e){return console.log("error",e)})):(t.classList.remove("is--dropdown"),_.innerHTML="")}));var E,S=document.querySelectorAll(".modal"),A=document.querySelectorAll(".modal-btn"),k=document.querySelectorAll(".modal__close");S&&A&&k&&(S.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__wrap"))&&(e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled"))}))})),A.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.id;E&&clearTimeout(E),e.dataset.mobile?window.innerWidth<=743&&document.getElementById(o)&&(document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(o).classList.add("is--active"),document.body.classList.add("scroll-disabled"),e.dataset.temp&&(E=setTimeout((function(){document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}),3500))):document.getElementById(o)&&(document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(o).classList.add("is--active"),document.body.classList.add("scroll-disabled"),e.dataset.temp&&(E=setTimeout((function(){document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}),3500)))}))})),k.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}))})))}));