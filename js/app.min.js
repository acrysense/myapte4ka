"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,n=window.innerWidth-document.body.offsetWidth+"px",r=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=n,r&&r.forEach((function(e){e.style.marginRight=n}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),r&&r.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}var t=function(e,t){var n=function(n){for(var o=n.target;o&&!e.includes(o);)o=o.parentNode;o||(t(),r())};function r(){document.documentElement.removeEventListener("click",n)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",n)},removeBodyChecker:r}};Inputmask().mask(document.querySelectorAll("input"));var n=document.querySelectorAll(".input-field__input"),r=document.querySelectorAll(".input-field__clear"),o=document.querySelectorAll(".input-field__visibility");n&&n.forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field").querySelector(".input-field__clear");e.value.length>=1?t.classList.add("is--active"):t.classList.remove("is--active")}))})),r&&r.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".input-field").querySelector(".input-field__input");n.value.length>=1&&(n.value="",e.classList.remove("is--active"))}))})),o&&o.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".input-field").querySelector(".input-field__input");e.classList.contains("is--active")?(e.classList.remove("is--active"),n.type="password"):(e.classList.add("is--active"),n.type="text")}))}));var c=document.querySelectorAll('.js-input-visibility input[type="checkbox"]');c&&c.forEach((function(e){e.addEventListener("change",(function(t){t.preventDefault();var n=e.closest(".auth-form__switches").querySelector(".auth-form__input");1==e.checked?n.classList.remove("is--hidden"):0==e.checked&&n.classList.add("is--hidden")}))}));var i=document.querySelectorAll(".input-field__number");i&&i.forEach((function(e,t){e.addEventListener("input",(function(e){var n=e.target.value;n.length>1&&(e.target.value=n.slice(0,1)),1===n.length&&t<i.length-1&&i[t+1].focus()})),e.addEventListener("keydown",(function(n){"Backspace"===n.key&&!e.value&&t>0&&i[t-1].focus()})),e.addEventListener("paste",(function(e){e.preventDefault();var t=e.clipboardData.getData("text").split("").filter((function(e){return/\d/.test(e)}));t.slice(0,i.length).forEach((function(e,t){i[t].value=e})),t.length>0&&i[Math.min(t.length,i.length-1)].focus()}))}));var a=document.querySelectorAll(".select-box__placeholder"),s=document.querySelectorAll(".select-box__checkbox");a&&(a.forEach((function(e){var n=function(){document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")}))},r=t([e.parentNode].concat(_toConsumableArray(document.querySelectorAll(".select-box"))),n);e.addEventListener("click",(function(){var t=e.closest(".select-box");t.classList.contains("is--active")?n():(n(),t.classList.add("is--active"),r.setBodyChecker())}))})),s&&s.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".select-box");t.querySelector(".select-box__placeholder span").innerHTML=e.querySelector(".select-box__title").innerHTML,document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")})),t.querySelector(".select-box__placeholder").classList.contains("is--selected")||t.querySelector(".select-box__placeholder").classList.add("is--selected")}))})));var l=document.querySelector(".resend-btn");l&&l.addEventListener("click",(function(e){e.preventDefault(),function(e){var t,n=e,r=document.getElementById("timerMessage"),o=document.getElementById("timer");messageDiv.classList.add("hidden"),resendButton.disabled=!0;var c=setInterval((function(){t=(t=parseInt(n%60,10))<10?"0"+t:t,o.textContent=t,--n<0&&(clearInterval(c),r.classList.add("hidden"),messageDiv.classList.remove("hidden"),resendButton.disabled=!1,messageDiv.textContent="Код не пришел? Отправить ещё раз")}),1e3)}(90)}));var d=document.querySelectorAll(".c-dropdown__trigger");d&&d.forEach((function(e){var n=function(){document.querySelectorAll(".c-dropdown").forEach((function(e){return e.classList.remove("is--active")}))},r=t([e.parentNode],n);e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-dropdown");o.classList.contains("is--active")?n():(o.classList.add("is--active"),r.setBodyChecker())}))}));var u=document.getElementById("menu"),v=document.getElementById("hamburger-toggle"),y=document.getElementById("menu-close");u&&v&&y&&(v.addEventListener("click",(function(t){t.preventDefault(),u.classList.contains("is--active")?(u.classList.remove("is--active"),e(0)):(u.classList.add("is--active"),e(1))})),y.addEventListener("click",(function(t){t.preventDefault(),u.classList.contains("is--active")&&(u.classList.remove("is--active"),e(0))})))}));