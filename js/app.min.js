"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,n=window.innerWidth-document.body.offsetWidth+"px",o=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=n,o&&o.forEach((function(e){e.style.marginRight=n}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),o&&o.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e,t){var n=e.querySelector(".validation-form-message");n&&(n.dataset.originalMessage||(n.dataset.originalMessage=n.textContent.trim()),t?n.textContent=t:(n.textContent=n.dataset.originalMessage,delete n.dataset.originalMessage))}var n=function(e,t){var n=function(n){for(var i=n.target;i&&!e.includes(i);)i=i.parentNode;i||(t(),o())};function o(){document.documentElement.removeEventListener("click",n)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",n)},removeBodyChecker:o}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.remove("is--open")},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;var o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.add("is--open")};Inputmask().mask(document.querySelectorAll("input"));var r=document.querySelectorAll(".input-field__input"),s=document.querySelectorAll(".input-field__clear"),a=document.querySelectorAll(".input-field__visibility");r&&r.forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field").querySelector(".input-field__clear");t&&(e.value.length>=1?t.classList.add("is--active"):t.classList.remove("is--active"))}))})),s&&s.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".input-field").querySelector(".input-field__input");n.value.length>=1&&(n.value="",e.classList.remove("is--active"))}))})),a&&a.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.closest(".input-field").querySelector(".input-field__input");e.classList.contains("is--active")?(e.classList.remove("is--active"),n.type="password"):(e.classList.add("is--active"),n.type="text")}))}));var l=document.querySelectorAll('.js-input-visibility input[type="checkbox"]');l&&l.forEach((function(e){e.addEventListener("change",(function(t){t.preventDefault();var n=e.closest(".auth-form__switches").querySelector(".hidden-block");1==e.checked?i(n):0==e.checked&&o(n)}))}));var c=document.querySelectorAll(".input-field__number");c&&c.forEach((function(e,t){e.addEventListener("input",(function(e){var n=e.target.value;n.length>1&&(e.target.value=n.slice(0,1)),1===n.length&&t<c.length-1&&c[t+1].focus()})),e.addEventListener("keydown",(function(n){"Backspace"===n.key&&!e.value&&t>0&&c[t-1].focus()})),e.addEventListener("paste",(function(e){e.preventDefault();var t=e.clipboardData.getData("text").split("").filter((function(e){return/\d/.test(e)}));t.slice(0,c.length).forEach((function(e,t){c[t].value=e})),t.length>0&&c[Math.min(t.length,c.length-1)].focus()}))}));var d=document.querySelectorAll(".select-box__placeholder"),u=document.querySelectorAll(".select-box__checkbox");d&&(d.forEach((function(e){var t=function(){document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")}))},o=n([e.parentNode].concat(_toConsumableArray(document.querySelectorAll(".select-box"))),t);e.addEventListener("click",(function(){var n=e.closest(".select-box");n.classList.contains("is--active")?t():(t(),n.classList.add("is--active"),o.setBodyChecker())}))})),u&&u.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".select-box");t.querySelector(".select-box__placeholder span").innerHTML=e.querySelector(".select-box__title").innerHTML,document.querySelectorAll(".select-box").forEach((function(e){return e.classList.remove("is--active")})),t.querySelector(".select-box__placeholder").classList.contains("is--selected")||t.querySelector(".select-box__placeholder").classList.add("is--selected")}))})));var v,m=document.querySelectorAll(".c-code__resend-btn");m&&m.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),function(e,t){clearInterval(v);var n=t,o=e.closest(".c-code"),i=o.querySelector(".c-code__timer");o.classList.add("is--countdown"),i.textContent=n,v=setInterval((function(){var e=n;i.textContent=e,--n<0&&(clearInterval(v),o.classList.remove("is--countdown"))}),1e3)}(e,90)}))}));var p=document.querySelectorAll(".c-dropdown__trigger");p&&p.forEach((function(e){var t=function(){document.querySelectorAll(".c-dropdown").forEach((function(e){return e.classList.remove("is--active")}))},o=n([e.parentNode],t);e.addEventListener("click",(function(n){n.preventDefault();var i=e.closest(".c-dropdown");e.classList.contains("c-dropdown__trigger--mobile")?window.innerWidth>=744&&(i.classList.contains("is--active")?t():(i.classList.add("is--active"),o.setBodyChecker())):i.classList.contains("is--active")?t():(i.classList.add("is--active"),o.setBodyChecker())}))}));var y=document.querySelectorAll(".c-user__trigger");y&&y.forEach((function(e){var t=function(){document.querySelectorAll(".c-user").forEach((function(e){return e.classList.remove("is--active")}))},o=n([e.parentNode],t);e.addEventListener("click",(function(n){n.preventDefault();var i=e.closest(".c-user");i.classList.contains("is--active")?t():(i.classList.add("is--active"),o.setBodyChecker())}))}));var f=document.getElementById("menu"),g=document.getElementById("hamburger-toggle");document.getElementById("menu-close");f&&g&&g.addEventListener("click",(function(t){t.preventDefault(),f.classList.contains("is--active")?(g.classList.remove("is--active"),f.classList.remove("is--active"),e(0)):(g.classList.add("is--active"),f.classList.add("is--active"),e(1))}));var h=document.querySelectorAll(".lk-tabs__item");h&&h.forEach((function(e,t){e.addEventListener("click",(function(){var t=e.closest(".lk-tabs");t.querySelectorAll(".lk-tabs__item").forEach((function(e){return e.classList.remove("is--active")})),t.querySelectorAll(".lk-tabs__holder").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active");var n=t.querySelector(".is--active"),o=_toConsumableArray(t.querySelectorAll(".lk-tabs__item")).indexOf(n);t.querySelectorAll(".lk-tabs__holder")[o].classList.add("is--active")}))}));var L=document.querySelectorAll(".lk-trigger[data-id]"),_=document.querySelectorAll(".lk-tabs__holder[data-id] .lk-topping__back");L&&L.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.id;document.querySelector('.lk-tabs__holder[data-id="'+n+'"]').classList.add("is--open")}))})),_&&_.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.closest(".lk-tabs__holder[data-id]").classList.remove("is--open")}))}));var b=document.querySelectorAll(".validation-form");b&&b.forEach((function(e){var n=e.querySelector(".validation-form-message"),o=e.querySelector(".validation-form-message-server");e.querySelectorAll('.input-field__input[data-validation="required"], .input-field__textarea[data-validation="required"]').forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field");if("tel"==e.type)13==e.value.replace(/[^+\d]/g,"").length&&t.classList.contains("is--error")&&t.classList.remove("is--error");else if(e.dataset.type="password"){var n=e.getAttribute("data-min-value");e.value.length>=n&&t.classList.contains("is--error")&&t.classList.remove("is--error")}else e.value.length>0&&t.classList.contains("is--error")&&t.classList.remove("is--error");o.classList.contains("is--active")&&o.classList.remove("is--active")})),e.addEventListener("blur",(function(){var t=e.closest(".input-field");if("tel"==e.type)13!=e.value.replace(/[^+\d]/g,"").length&&t.classList.add("is--error");else if(e.dataset.type="password"){var n=e.getAttribute("data-min-value");e.value.length<n&&t.classList.add("is--error")}else 0==e.value.length&&t.classList.add("is--error")}))})),e.addEventListener("submit",(function(i){!function(e){var n=e.querySelectorAll('.input-field__input[data-validation="required"], .input-field__textarea[data-validation="required"]'),o=e.querySelectorAll('.input-field__input[data-type="password"][data-validation="required"]'),i=n.length;return n.forEach((function(e){var t=e.closest(".input-field");if(e.value.length>0)if(e.classList.contains("input-dadata-city")||e.classList.contains("input-dadata-street"))t.classList.contains("is--selected")?i--:t.classList.add("is--error");else if("tel"==e.type)13==e.value.replace(/[^+\d]/g,"").length?i--:t.classList.add("is--error");else if(e.dataset.type="password"){var n=e.getAttribute("data-min-value");e.value.length>=n?i--:t.classList.add("is--error")}else i--;else t.classList.add("is--error")})),o.length>1?o[0].value!==o[1].value?(t(e,"Введенные пароли не совпадают"),!1):(t(e),0==i||void 0):0==i}(e)?(i.preventDefault(),n&&n.classList.add("is--active"),o&&o.classList.remove("is--active")):(n&&n.classList.remove("is--active"),o&&o.classList.remove("is--active"),"ajax"==e.dataset.action&&(i.preventDefault(),sendingFormData(e)))}))}));var E=document.querySelector(".input-dadata-region"),S=document.querySelector(".input-dadata-city"),q="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",A="8597dd60d3a83fb46930107993271556971eadf1";E&&(E.addEventListener("input",(function(){var e=E.closest(".input-field"),t=e.querySelector(".input-field__dropdown"),n=E.value,o=[],i={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+A},body:JSON.stringify({query:n,count:5,locations:[{country:"Беларусь"}],from_bound:{value:"region"},to_bound:{value:"region"},restrict_value:!0})};e.classList.contains("is--selected")&&e.classList.remove("is--selected"),n.length>=2?fetch(q,i).then((function(e){return e.text()})).then((function(n){if(JSON.parse(n).suggestions.forEach((function(e){null!=e.data.region&&o.push(e.data.region)})),o.length>0){e.classList.add("is--dropdown"),t.innerHTML="";for(var i=document.createElement("ul"),r=0;r<o.length;r++)i.innerHTML+='\n                                <li class="input-field__list-item">\n                                    <button class="input-field__list-elem">'.concat(o[r],"</button>\n                                </li>\n                            ");t.append(i)}else e.classList.remove("is--dropdown"),t.innerHTML=""})).catch((function(e){return console.log("error",e)})):(e.classList.remove("is--dropdown"),t.innerHTML="")})),E.addEventListener("blur",(function(){var e=E.closest(".input-field");e.classList.contains("is--selected")||(E.value="",S.value=""),e.classList.contains("is--dropdown")&&e.classList.remove("is--dropdown")}))),S&&(S.addEventListener("input",(function(){var e=S.closest(".input-field"),t=e.querySelector(".input-field__dropdown"),n=S.value,o=[],i={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+A},body:JSON.stringify({query:n,count:5,locations:[{country:"Беларусь",region:E.value}],from_bound:{value:"city"},to_bound:{value:"settlement"},restrict_value:!0})};e.classList.contains("is--selected")&&e.classList.remove("is--selected"),n.length>=2&&E.value.length>0?fetch(q,i).then((function(e){return e.text()})).then((function(n){var i=JSON.parse(n);if(console.log(i.suggestions),i.suggestions.forEach((function(e){console.log(e.data),null!=e.data.settlement_with_type?o.push(e.data.settlement_with_type):null!=e.data.city_with_type&&o.push(e.data.city_with_type)})),o.length>0){e.classList.add("is--dropdown"),t.innerHTML="";for(var r=document.createElement("ul"),s=0;s<o.length;s++)r.innerHTML+='\n                                <li class="input-field__list-item">\n                                    <button class="input-field__list-elem">'.concat(o[s],"</button>\n                                </li>\n                            ");t.append(r)}else e.classList.remove("is--dropdown"),t.innerHTML=""})).catch((function(e){return console.log("error",e)})):(e.classList.remove("is--dropdown"),t.innerHTML="")})),S.addEventListener("blur",(function(){var e=S.closest(".input-field");e.classList.contains("is--selected")||(S.value=""),e.classList.contains("is--dropdown")&&e.classList.remove("is--dropdown")}))),document.body.addEventListener("mousedown",(function(e){if(e.target.classList.contains("input-field__list-elem")){e.preventDefault();var t=e.target.closest(".input-field");t.querySelector(".input-field__input").value=e.target.innerHTML,t.classList.remove("is--dropdown"),t.classList.add("is--selected")}}));var w,k=document.querySelectorAll(".modal"),T=document.querySelectorAll(".modal-btn"),x=document.querySelectorAll(".modal__close");k&&T&&x&&(k.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__wrap"))&&(e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled"))}))})),T.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.id;w&&clearTimeout(w),e.dataset.mobile?window.innerWidth<=743&&document.getElementById(n)&&(document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(n).classList.add("is--active"),document.body.classList.add("scroll-disabled"),e.dataset.temp&&(w=setTimeout((function(){document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}),3500))):document.getElementById(n)&&(document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(n).classList.add("is--active"),document.body.classList.add("scroll-disabled"),e.dataset.temp&&(w=setTimeout((function(){document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}),3500)))}))})),x.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}))})))}));